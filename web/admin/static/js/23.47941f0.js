(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+8Ez":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACQSURBVDhPY8ABLID4ORD/B+LXQBwAxBiACUqjAw8gloAwGUSA2B/CRAW4NBMFBk4zIxCDAgfkR2RgD8QOECYYXADijRAmHJwAEbBQJRV/B9kMYpAFQH7+AGGSDP6AbAYlAPR4NIBiGLgDxEcgTDg4CqUxQAMQI/tvPhBjgCGaSHBpBiWAHxAmwx8gxhI4DAwAX/skN/MbNXcAAAAASUVORK5CYII="},"1Ecc":function(e,t,i){},"8FAL":function(e,t,i){},DgvE:function(e,t,i){"use strict";var a={delIdArray:function(e,t){for(var i=0;i<e.length;i++)e[i].id==t&&e.splice(i,1);console.log("this.arr",e)},filterDate:function(e){return e?e.getFullYear()+"-"+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0"+e.getDate()):""},filterDateTime:function(e){return e?e.getFullYear()+"-"+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0"+e.getDate())+" "+(e.getHours()>=10?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds()):""}};t.a=a},DhB9:function(e,t,i){"use strict";var a=i("1Ecc");i.n(a).a},Vt9b:function(e,t,i){"use strict";var a=i("L2JU"),s={data:function(){return{isEmpty:!0}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e})({},Object(a.e)("test",{examSite:function(e){return e.examSite},rules:function(e){return e.rules}})),methods:{addtime:function(){this.examSite.time.push({value:"",key:Date.now()})},addroomtime:function(e){console.log(this.examSite.rooms[e]),this.examSite.rooms[e].times.push({value:"",key:Date.now()})},deletetime:function(e){"1"==this.examSite.rooms[e].times.length&&(this.isEmpty=!1),this.examSite.rooms[e].times.pop()},deleteroom:function(){this.examSite.rooms.pop()},addroom:function(){this.examSite.rooms.push({time1:"",times:[{value:"",key:Date.now()}],key:Date.now()})},addaddresstime:function(e){this.examSite.sites[e].times.push({value:"",key:Date.now()})},addsite:function(){this.examSite.sites.push({site:"",times:[{value:"",key:Date.now()}],key:Date.now()})},deleteSite:function(){this.examSite.sites.pop()}}},n=(i("Y0GA"),i("KHd+")),r=Object(n.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"signinfo"},[a("el-header",[a("el-row",[e._v("考试地点安排")])],1),e._v(" "),a("el-main",[a("div",{staticClass:"baseinfo"},[a("el-form",{ref:"addexamsite",attrs:{model:e.examSite,rules:e.rules}},[a("el-form-item",{attrs:{label:"考试地点1",prop:"address"}},[a("el-input",{attrs:{placeholder:"请填写考试地点"},model:{value:e.examSite.address,callback:function(t){e.$set(e.examSite,"address",t)},expression:"examSite.address"}})],1),e._v(" "),a("p",[e._v("考场1：")]),e._v(" "),a("div",{staticClass:"line"}),e._v(" "),e._l(e.examSite.time,function(t,i){return a("el-form-item",{key:t.key,attrs:{label:"考试时间"+(i+1)+"：",prop:"time."+i+".value"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请设置考场考试时间"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"time.value"}})],1)}),e._v(" "),a("img",{staticClass:"addimg",attrs:{src:i("+8Ez")},on:{click:e.addtime}}),e._v(" "),a("div",{staticClass:"line2"}),e._v(" "),e._l(e.examSite.rooms,function(t,s){return a("div",{key:t.key,staticClass:"editinfo"},[a("div",{staticClass:"examsite2"},[a("p",[e._v("考场"+e._s(s+2)+"：")]),e._v(" "),a("div",{staticClass:"img"},[a("img",{attrs:{src:i("syqs")},on:{click:e.deleteroom}}),e._v(" "),a("img",{attrs:{src:i("+8Ez")},on:{click:e.addroom}})])]),e._v(" "),a("div",{staticClass:"line"}),e._v(" "),a("el-form-item",{attrs:{label:"考试时间1"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请设置考场考试时间"},model:{value:t.time1,callback:function(i){e.$set(t,"time1",i)},expression:"room.time1"}})],1),e._v(" "),e.isEmpty?a("div",{staticClass:"examsite_address2_time2"},[a("div",{staticClass:"img2"},[a("img",{attrs:{src:i("syqs")},on:{click:function(t){e.deletetime(s)}}}),e._v(" "),a("img",{attrs:{src:i("+8Ez")},on:{click:function(t){e.addroomtime(s)}}})]),e._v(" "),e._l(t.times,function(t,i){return a("el-form-item",{key:t.key,attrs:{label:"考试时间"+(i+2)+"："}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请设置考场考试时间"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1)})],2):e._e(),e._v(" "),a("div",{staticClass:"line",staticStyle:{width:"100%"}})],1)}),e._v(" "),e._l(e.examSite.sites,function(t,s){return a("div",{key:t.key},[a("div",{staticClass:"examsite_address2_time2"},[a("div",{staticClass:"img2"},[a("img",{attrs:{src:i("syqs")},on:{click:e.deleteSite}})]),e._v(" "),a("el-form-item",{attrs:{label:"考试地点"+(s+2)+"："}},[a("el-input",{attrs:{placeholder:"请填写考试地点"},model:{value:t.site,callback:function(i){e.$set(t,"site",i)},expression:"site.site"}})],1)],1),e._v(" "),a("p",[e._v("考场1：")]),e._v(" "),a("div",{staticClass:"line"}),e._v(" "),a("div",{staticClass:"examsite_address2_time2"},[a("div",{staticClass:"img2"},[a("img",{attrs:{src:i("+8Ez")},on:{click:function(t){e.addaddresstime(s)}}})]),e._v(" "),e._l(t.times,function(t,i){return a("el-form-item",{key:t.key,attrs:{label:"考试时间"+(i+1)+"："}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请设置考场考试时间"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"time.value"}})],1)})],2)])}),e._v(" "),a("el-button",{staticClass:"addsite",on:{click:e.addsite}},[e._v("继续添加考点")]),e._v(" "),a("div",{staticClass:"line",staticStyle:{width:"100%"}})],2)],1)])],1)},[],!1,null,"d5e80e52",null);t.a=r.exports},Y0GA:function(e,t,i){"use strict";var a=i("8FAL");i.n(a).a},hJNq:function(e,t,i){"use strict";var a=i("husM");i.n(a).a},husM:function(e,t,i){},syqs:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADOSURBVDhP5dMtCgJBGMbx1w8wKQiCxSJ4AC0mMXkA72AxGLyDSfAOVqvJ6AUEbSIeQKNBwab/Z3aQ3WUW7T7w25kd3llm4F0LpIcjXjFnDJFIzo/x7HHF3L1FGWGAJp5aULR5gpp7M6tjjBVOWvAJrbuPbHBB/JjfqH4LlyVCRVlUb3k9UulgAd27jB103CoSCW2+4QHd6e5prvVEQpt/zj9uLvhRfduOplZEFy2UoLasoIE+lAPW0dRsilAzZJnhE/W22i1UmKYfh1OZvQFOBUzONb1ePAAAAABJRU5ErkJggg=="},uRn4:function(e,t,i){"use strict";i.r(t);var a=i("w56M"),s=i("Vt9b"),n=i("L2JU"),r=i("DgvE"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},l={data:function(){return{}},components:{testInfo:a.a,testLocation:s.a},computed:o({},Object(n.e)("test",{examSite:function(e){return e.examSite},baseinfo:function(e){return e.baseinfo}})),methods:{save:function(){console.log(this.examSite),console.log(this.baseinfo);var e=this.baseinfo,t=e.name,i=e.number,a=e.examTime,s=e.applyTime,n=this.examSite,o=n.address,l=n.rooms,m=n.sites,c=n.time;console.log(s,a);var u=r.a.filterDateTime(s[0]),d=r.a.filterDateTime(s[1]),f=r.a.filterDateTime(a[0]),A=r.a.filterDateTime(a[1]),p=[];c&&c.length&&c.forEach(function(e){p.push({address:o,room:"考场1",time:r.a.filterDateTime(e.value)})}),l&&l.length&&l.forEach(function(e,t){p.push({address:o,room:"考场"+(t+2),time:r.a.filterDateTime(e.time1)}),e.times&&e.times.length&&e.times.forEach(function(e){p.push({address:o,room:"考场"+(t+2),time:r.a.filterDateTime(e.value)})})}),m&&m.length&&m.forEach(function(e){e.times&&e.times.length&&e.times.forEach(function(t){p.push({address:e.site,room:"考场1",time:r.a.filterDateTime(t.value)})})}),this.$axios({url:"/exam/add",method:"post",data:{name:t,number:i,apply_time_start:u,apply_time_end:d,exam_time_start:f,exam_time_end:A,exam_site:p}}).then(function(e){e&&e.error,alert(e.msg)})}}},m=(i("hJNq"),i("KHd+")),c=Object(m.a)(l,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("test-info"),this._v(" "),t("test-location"),this._v(" "),t("div",{staticClass:"button"},[t("el-col",{staticStyle:{width:"40%"},attrs:{type:"primary"}},[t("el-button",{on:{click:this.save}},[this._v("完成")])],1)],1)],1)},[],!1,null,"90637bf8",null);t.default=c.exports},w56M:function(e,t,i){"use strict";var a={data:function(){return{rules:{number:[{required:!0,message:"请输入考试编号",trigger:"blur"}],name:[{required:!0,message:"请输入考试名称",trigger:"blur"}],applyTime:[{required:!0,message:"请选择报名起止日期：",trigger:"change"}],examTime:[{required:!0,message:"请选择考试起止日期：",trigger:"change"}]}}},computed:{baseinfo:function(){return this.$store.state.test.baseinfo}}},s=(i("DhB9"),i("KHd+")),n=Object(s.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticClass:"signinfo"},[i("el-header",[i("el-row",[e._v("\n                考试信息\n            ")])],1),e._v(" "),i("el-main",[i("div",{staticClass:"baseinfo"},[i("el-form",{attrs:{model:e.baseinfo,rules:e.rules}},[i("el-form-item",{attrs:{label:"考试编号：",prop:"number"}},[i("el-input",{model:{value:e.baseinfo.number,callback:function(t){e.$set(e.baseinfo,"number",t)},expression:"baseinfo.number"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"考试名称：",prop:"number"}},[i("el-input",{model:{value:e.baseinfo.name,callback:function(t){e.$set(e.baseinfo,"name",t)},expression:"baseinfo.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"报名起止日期：",prop:"applyTime"}},[i("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"报名开始日期","end-placeholder":"报名结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.baseinfo.applyTime,callback:function(t){e.$set(e.baseinfo,"applyTime",t)},expression:"baseinfo.applyTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"考试起止日期：",prop:"examTime"}},[i("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"报名开始日期","end-placeholder":"报名结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.baseinfo.examTime,callback:function(t){e.$set(e.baseinfo,"examTime",t)},expression:"baseinfo.examTime"}})],1)],1)],1)])],1)},[],!1,null,"5740ac32",null);t.a=n.exports}}]);