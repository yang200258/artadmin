(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{WN0K:function(e,a,t){"use strict";t.r(a);var r={data:function(){return{name:"",phone:"",organ_name:"",username:"",currentPage:1,totalNumber:0,pageSize:50,head:[{key:"name",name:"姓名"},{key:"sex",name:"性别"},{key:"phone",name:"联系电话"},{key:"organ_name",name:"所属机构"},{key:"username",name:"官网登录账号"},{key:"create_at",name:"添加时间"}],signTeacherData:[],loadingSignTeacher:!1,isResetPassword:!1,resetForm:{password:"",repeat_password:""},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"}],repeat_password:[{required:!0,message:"请再次输入密码",trigger:"blur"}]}}},methods:{handleCurrentChange:function(e){this.querySignTeacher(e)},querySignTeacher:function(e){var a=this,t=this.name,r=this.phone,s=this.organ_name,n=this.username;e=e||1,this.loadingSignTeacher=!0,this.$axios({url:"/manager/teacher/list",method:"post",data:{name:t,phone:r,organ_name:s,username:n,pn:e}}).then(function(e){e&&!e.error?(a.signTeacherData=e.data.list,e.data.list.forEach(function(e){e.organ&&(e.organ_name=e.organ.organ_name)}),a.pageSize=e.data.page.limit,a.totalNumber=e.data.page.total,a.currentPage=e.data.page.pn):alert(e.msg),a.loadingSignTeacher=!1}).catch(function(e){console.log(e),a.loadingSignTeacher=!1})},addTeacher:function(){this.$router.push({name:"addTeacher"})},resetPassword:function(e){this.id=e.row.id,this.isResetPassword=!0},editAccount:function(e){this.$router.push({name:"editTeacher",params:{teacherData:e.row}})},deleteAccount:function(){},handleClose:function(){this.password="",this.passwordagain="",this.isResetPassword=!1},cancelReset:function(){this.password="",this.passwordagain="",this.isResetPassword=!1},submitForm:function(e){var a=this,t=e.password,r=e.repeat_password,s=this.id;this.$refs.resetForm.validate(function(e){e&&a.$axios({url:"/manager/teacher/reset",method:"post",data:{password:t,repeat_password:r,id:s}}).then(function(e){e&&e.error,alert(e.msg),a.resetForm.password="",a.resetForm.repeat_password="",a.isResetPassword=!1}).catch(function(e){console.log(e)})})}}},s=(t("diNq"),t("KHd+")),n=Object(s.a)(r,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"signteacher-container"},[t("div",{staticClass:"signteacher-header"},[t("el-row",[t("el-col",{attrs:{span:4}},[t("p",[e._v("老师姓名：")]),e._v(" "),t("el-input",{attrs:{placeholder:"老师姓名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("p",[e._v("联系电话：")]),e._v(" "),t("el-input",{attrs:{placeholder:"联系电话"},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}})],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("p",[e._v("所属机构：")]),e._v(" "),t("el-input",{attrs:{placeholder:"所属机构"},model:{value:e.organ_name,callback:function(a){e.organ_name=a},expression:"organ_name"}})],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:4}},[t("p",[e._v("登录账号：")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入登录账号"},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}})],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("el-button",{attrs:{type:"primary"},on:{click:e.querySignTeacher}},[e._v("查询")])],1)],1)],1),e._v(" "),t("div",{staticClass:"signteacher-content"},[t("table-data",{attrs:{isPagination:"true",currentPage:e.currentPage,totalNumber:e.totalNumber,pageSize:e.pageSize,isEdit:"true",editName:"添加老师",head:e.head,tableData:e.signTeacherData,loadingTable:e.loadingSignTeacher,isOption:"true",isEditTable:"true",isEditAccount:"true",isDeleteTable:"true",editTableName:"重置密码",editAccountName:"编辑账号",deleteTableName:"删除账号"},on:{editOption:e.addTeacher,editInfo:e.resetPassword,editAccount:e.editAccount,deleteInfo:e.deleteAccount,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),t("el-dialog",{staticClass:"reset-password",attrs:{title:"重置密码",visible:e.isResetPassword,width:"30%","before-close":e.handleClose},on:{"update:visible":function(a){e.isResetPassword=a}}},[t("div",{staticClass:"reset-header"},[t("el-form",{ref:"resetForm",attrs:{model:e.resetForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"输入密码",prop:"password"}},[t("el-row",[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.resetForm.password,callback:function(a){e.$set(e.resetForm,"password",a)},expression:"resetForm.password"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"再次输入密码",prop:"repeat_password"}},[t("el-row",[t("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.resetForm.repeat_password,callback:function(a){e.$set(e.resetForm,"repeat_password",a)},expression:"resetForm.repeat_password"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{on:{click:e.cancelReset}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm(e.resetForm)}}},[e._v("确定")])],1)],1)],1)])],1)])},[],!1,null,"116bad1e",null);a.default=n.exports},diNq:function(e,a,t){"use strict";var r=t("vCZ7");t.n(r).a},vCZ7:function(e,a,t){}}]);