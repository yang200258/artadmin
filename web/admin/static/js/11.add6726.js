(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{KiBt:function(e,a,t){},RGvp:function(e,a,t){"use strict";var s=t("KiBt");t.n(s).a},T6Ho:function(e,a,t){"use strict";t.r(a);var s={data:function(){return{id:"",name:"",username:"",managerNumber:0,managerHead:[{key:"id",name:"管理员ID"},{key:"name",name:"姓名"},{key:"username",name:"登录账号"},{key:"identity",name:"管理员身份"},{key:"create_at",name:"添加时间"}],managerData:[],loadingManager:!1,isResetPassword:!1,password:"",repeat_password:"",total:0,limit:50,pn:1,rightlist:[]}},mounted:function(){},methods:{queryManager:function(){var e=this;this.loadingManager=!0,this.$axios({url:"/manager/admin/list",method:"post",data:{}}).then(function(a){console.log("查询到管理员列表",a),a&&!a.error?(e.managerData=a.data.list,e.total=a.data.page.total,e.pn=a.data.page.pn,e.limit=a.data.list.limit):alert(a.msg),e.loadingManager=!1}).catch(function(a){console.log(a),e.loadingManager=!1})},addManager:function(){this.$router.push({name:"addmanager"})},editInfo:function(e){this.id=e.row.id,this.isResetPassword=!0},editAccount:function(e){this.$store.commit("manager/setManagerdata",e.row),this.$router.push({name:"editmanager"})},deleteInfo:function(){},handleClose:function(){this.isResetPassword=!1,this.password="",this.repeat_password=""},cancelReset:function(){this.isResetPassword=!1,this.password="",this.repeat_password=""},saveReset:function(){var e=this,a=this.id,t=this.password,s=this.repeat_password;this.$axios({url:"/manager/admin/reset",method:"post",data:{id:a,password:t,repeat_password:s}}).then(function(a){a&&a.error,alert(a.msg),e.isResetPassword=!1}).catch(function(a){console.log(a),e.isResetPassword=!1})}}},n=(t("RGvp"),t("KHd+")),o=Object(n.a)(s,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"manager-container"},[t("div",{staticClass:"manager-header"},[t("el-row",{attrs:{type:"flex","justify-content":"center"}},[t("el-col",{attrs:{span:2}},[t("p",[e._v("姓名：")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1),e._v(" "),t("el-col",{attrs:{span:6,offset:2}},[t("p",[e._v("登录账号：")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入登录账号"},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}})],1),e._v(" "),t("el-col",{attrs:{span:4,offset:4}},[t("el-button",{attrs:{type:"primary"},on:{click:e.queryManager}},[e._v("查询")])],1)],1)],1),e._v(" "),t("div",{staticClass:"manager-content"},[t("el-row",[t("p",[e._v("共有"+e._s(e.total)+"位管理员")])]),e._v(" "),t("table-data",{attrs:{isPagination:"true",head:e.managerHead,tableData:e.managerData,isEdit:"true",editName:"新增管理员",isOption:"true",isEditTable:"true",editTableName:"重置密码",isEditAccount:"true",editAccountName:"编辑账号",isDeleteTable:"true",deleteTableName:"删除账号",loadingTable:e.loadingManager,totalNumber:e.total,pageSaze:e.limit,currentPage:e.pn},on:{editOption:e.addManager,editInfo:e.editInfo,editAccount:e.editAccount,deleteInfo:e.deleteInfo}}),e._v(" "),t("el-dialog",{staticClass:"reset-password",attrs:{title:"重置密码",visible:e.isResetPassword,width:"30%","before-close":e.handleClose},on:{"update:visible":function(a){e.isResetPassword=a}}},[t("div",{staticClass:"reset-header"},[t("el-row",[t("el-col",{attrs:{span:5,push:1}},[t("p",[e._v("登录密码：")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:5}},[t("p",[e._v("确认登录密码：")])]),e._v(" "),t("el-col",{attrs:{span:14}},[t("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.repeat_password,callback:function(a){e.repeat_password=a},expression:"repeat_password"}})],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelReset}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.saveReset}},[e._v("确 定")])],1)])],1)])},[],!1,null,"380c1213",null);a.default=o.exports}}]);