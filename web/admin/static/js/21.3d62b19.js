(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{DgvE:function(e,t,a){"use strict";var n={delIdArray:function(e,t){for(var a=0;a<e.length;a++)e[a].id==t&&e.splice(a,1);console.log("this.arr",e)},filterDate:function(e){return e?e.getFullYear()+"-"+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0"+e.getDate()):""},filterDateTime:function(e){return e?e.getFullYear()+"-"+(e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0"+e.getDate())+" "+(e.getHours()>=10?e.getHours():"0"+e.getHours())+":"+(e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes())+":"+(e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds()):""}};t.a=n},"T+Kb":function(e,t,a){"use strict";a.r(t);var n=a("DgvE"),i={data:function(){return{testTime:"",number:"",name:"",pageSize:20,totalNumber:200,currentPage:0,head:[{key:"number",name:"考试编号"},{key:"address",name:"考试地点"},{key:"room",name:"考场"},{key:"exam_date",name:"考试日期"},{key:"exam_time",name:"考试时间"},{key:"examinee_num",name:"考生人数"}],testLocationData:[],isLoading:!1}},methods:{handleCurrentChange:function(e){this.queryTestInfo(e)},queryTestInfo:function(e){var t=this;this.isLoading=!1;var a=this.name,i=this.number,r=this.testTime,o=n.a.filterDate(r[0]),s=n.a.filterDate(r[1]);e=e||1,this.$axios({url:"/exam/room",method:"post",data:{name:a,number:i,exam_time_start:o,exam_time_end:s,pn:e}}).then(function(e){console.log("查询到的考场数据",e),e&&!e.error?(e.data.list.forEach(function(e){e.exam_date=e.exam_time.split("")[0],e.exam_time=e.exam_time.split("")[1]}),t.testLocationData=e.data.list,t.pageSize=e.data.page.limit,t.totalNumber=e.data.page.total,t.currentPage=e.data.page.pn):t.$message.warn(e.msg),t.isLoading=!1}).catch(function(e){console.log(e),t.isLoading=!1})},editExaminee:function(e){this.$router.push({name:"editLocation",params:{gid:e.row.number}})}}},r=(a("mp2D"),a("KHd+")),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("p",[e._v("考试编号：")]),a("el-input",{attrs:{placeholder:"考试编号"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("p",[e._v("考试地点：")]),a("el-input",{attrs:{placeholder:"考试地点"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("p",[e._v("考试日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"考试开始日期","end-placeholder":"考试结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.testTime,callback:function(t){e.testTime=t},expression:"testTime"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticStyle:{width:"30%"},attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.queryTestInfo(t)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("table-data",{attrs:{isPagination:"true",totalNumber:e.totalNumber,currentPage:e.currentPage,pageSize:e.pageSize,isOption:"true",isEditTable:"true",editTableName:"考生安排",loadingTable:e.isLoading,head:e.head,tableData:e.testLocationData},on:{handleCurrentChange:e.handleCurrentChange,editInfo:e.editExaminee}})],1)},[],!1,null,"92bcccb0",null);t.default=o.exports},mp2D:function(e,t,a){"use strict";var n=a("wVOv");a.n(n).a},wVOv:function(e,t,a){}}]);